var monitors=function(t){"use strict";var D=function(){return(D=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};function k(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function H(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,i=e.call(t),a=[];try{for(;(void 0===n||0<n--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return a}function c(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(H(arguments[n]));return t}function a(t){return"object"==typeof t&&null!==t&&!i(t)}function r(t){return"[object Object]"===(t=t,Object.prototype.toString.call(t))}function s(t){return"function"==typeof t}function f(t){return"[object String]"===Object.prototype.toString.call(t)}function i(t){return"[object Array]"===Object.prototype.toString.call(t)}function u(t){return"number"==typeof t}function n(t,n){if(a(t))for(var e in t)r=t,o=e,Object.prototype.hasOwnProperty.call(r,o)&&n.call(null,e,t[e]);var r,o}function o(){return a(window)&&!!a(window.performance)}function e(){return!(!s(requestAnimationFrame)||!s(cancelAnimationFrame))}function l(){return!(!window.setTimeout||!s(setTimeout))}function m(t){var e,t=function(t){if(!a(t))return{};var e={};return n(t,function(t,n){a(n)||i(n)?e[t]=JSON.stringify(n):e[t]=n}),e}(t),t=(e={},n(t,function(t,n){e[encodeURIComponent(t)]=encodeURIComponent(n)}),e),r=[];return n(t,function(t,n){r.push(t+"="+n)}),r.join("&")}function p(t){var n=document.createElement("a");n.href=t;t=n.pathname||"/";return"/"!==t[0]&&(t="/"+t),{href:n.href,protocol:n.protocol.slice(0,-1),hostname:n.hostname,host:n.host,search:n.search,pathname:t,hash:n.hash}}function d(){}function U(t){"complete"!==document.readyState?window.addEventListener("load",function(){setTimeout(function(){t()},0)},!1):t()}function B(n,e){s(n)&&(s(window.addEventListener)&&(window.addEventListener("unload",n),window.addEventListener("beforeunload",n),window.addEventListener("pagehide",n)),s(document.addEventListener)&&document.addEventListener("visibilitychange",function(t){s(e)?e(t):"hidden"===document.visibilityState&&n(t)}))}function v(){return(new Date).getTime()}var h=(g.post=function(t,n,e){var r=e&&e.success||d,o=e&&e.fail||d,e=new XMLHttpRequest;e.open("POST",t,!0),e.setRequestHeader("Content-Type","application/json"),e.send(JSON.stringify(n)),e.onload=function(){try{var t;this.responseText?(t=JSON.parse(this.responseText),r(t)):r({})}catch(t){o()}},e.onerror=function(){o()},e.onabort=function(){o()}},g.get=function(t,n){var e=n&&n.success||d,r=n&&n.fail||d,o=n&&n.getResponse||d,i=n&&n.getResponseText||d,a=new XMLHttpRequest;n&&n.withCredentials&&(a.withCredentials=n.withCredentials),a.open("GET",t),a.send(),a.onload=function(){o(null==this?void 0:this.response),i(this.responseText);try{var t;this.responseText?(t=JSON.parse(this.responseText),e(t)):e({})}catch(t){r()}},a.onerror=function(){r()},a.onabort=function(){r()}},g.prototype.getCommonParams=function(){return{timestamp:Date.now()}},g);function g(t){var n=this;this.postEvent=function(t){t=D(D({},t),n.getCommonParams());g.post(n.url,t)},this.getEvent=function(t){t=m(D(D({},t),n.getCommonParams())),t=n.url+"?"+t;g.get(t)},this.getURL=function(){return n.url},this.options=t,this.url=this.options.reportURL}function q(n){return function(t){return n===t}}function Q(t){return t}function y(){return s(Date)?Math.round(Date.now()/1e3):0}function b(t,e){if(!a(t))return{};if(!s(e))return{};var r={};return n(t,function(t,n){e(n)&&(r[t]=n)}),r}function w(t){var n,e,r,o,i=null;return a(t)&&("timer"===t.type&&(i=a(n=t.event)&&f(n.name)&&u(n.value)?{metrics_type:"timer",event_name:"default",metrics:((e={})[n.name]=n.value,e),category:b(n.tags,f),timestamp:y()}:{}),"counter"===t.type&&(i=a(o=t.event)&&f(o.name)&&u(o.value)?{metrics_type:"counter",event_name:"default",metrics:((r={})[o.name]=o.value,r),category:b(o.tags,f),timestamp:y()}:{}),"log"===t.type&&(i=a(r=t.event)&&f(r.value)?{metrics_type:"log",event_name:"default",log_content:r.value,log_level:null!==(o=r.level)&&void 0!==o?o:"info",category:b(r.tags,f),timestamp:y()}:{}),"custom"===t.type&&(i=a(t=t.event)&&f(t.event_name)?{metrics_type:"custom",event_name:t.event_name,metrics:b(t.metrics,u),category:b(t.tags,f),timestamp:y()}:{})),i}function z(r){var o=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=r.apply(void 0,c(t));return o.returns=e,o.resolved=!0,o.subs&&o.subs.forEach(function(t){return t()}),e};return o.then=G(o).then,o}var G=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];function a(){return n.every(function(t){return t.resolved})}return Object.defineProperty({then:function(e){function r(){return t.apply(void 0,c(n.map(function(t){return t.returns})))}var o,i,t=z(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return i?o:(i=!0,o=e.apply(void 0,c(t)))});return a()?setTimeout(r):n.forEach(function(t){function n(){return a()&&r()}t.subs?t.subs.push(n):t.subs=[n]}),G(t)}},"resolved",{get:a})};function M(){try{return new Headers,new Request(""),new Response,window.fetch}catch(t){}}function _(){if(a(window))return window}function C(){if(_()&&a(window.performance))return window.performance}function R(){if(_()&&s(window.PerformanceObserver))return window.PerformanceObserver}function N(i,a,u){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!i)return d;var e=i[a],r=u.apply(void 0,c([e],t)),o=r;return s(o)&&(o=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];try{return r.apply(this,n)}catch(t){return s(e)&&e.apply(this,n)}}),i[a]=o,function(t){t&&o!==i[a]||(i[a]=e)}}}function V(t,n,e,r){void 0===n&&(n={}),void 0===r&&(r=[]);try{var o=t.apply(void 0,c(r));return o&&o(n,e)||[]}catch(t){return[]}}function x(e,r,o,i){var a=e&&new e(function(t,n){t.getEntries?t.getEntries().forEach(r):i&&i(),o&&n.disconnect()});return[function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(!e||!a)return i&&i();try{n.forEach(function(t){-1<e.supportedEntryTypes.indexOf(t)&&a.observe({type:t,buffered:!0})})}catch(t){try{a.observe({entryTypes:n})}catch(t){}}},function(){return a&&a.disconnect()}]}function W(e){var t=e&&e.timing||void 0;return[t,function(){return e&&e.now?e.now():(Date.now?Date.now():+new Date)-(t&&t.navigationStart||0)},function(t){var n=(e||{}).getEntriesByType;return s(n)&&n.call(e,t)||[]},function(){var t=(e||{}).clearResourceTimings;s(t)&&t.call(e)},function(t){var n=(e||{}).getEntriesByName;return s(n)&&n.call(e,t)||[]}]}function A(n){function e(){return window.clearTimeout(a)}function r(t){t<i||!o||(e(),a=window.setTimeout(o,t-n()),i=t)}var o,i=-1/0,a=void 0;return[function(t,n){o=t,r(n)},function(){e(),o=void 0},r]}function I(t,a){var e,u=["img","script","iframe","link","audio","video","source"],n=H((n=function(t){var n,e;try{for(var r=k(t),o=r.next();!o.done;o=r.next()){var i=o.value;("childList"===i.type&&function t(n,e){var r,o;try{for(var i=k(n),a=i.next();!a.done;a=i.next()){var u=a.value;if(e.includes(u.nodeName.toLowerCase())||u.children&&t(u.children,e))return 1}}catch(t){r={error:t}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}}(i.addedNodes,u)||"attributes"===i.type&&u.includes(i.target.nodeName.toLowerCase()))&&a(i)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(n)throw n.error}}},e=(t=t)&&new t(n),[function(t,n){e&&t&&e.observe(t,n)},function(){return e&&e.disconnect()}]),2),r=n[0];return[function(){return r(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]})},n[1]]}function O(t){var t=(n=t||{}).domContentLoadedEventEnd,n=n.navigationStart;return t?t-(void 0===n?0:n):null}function P(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._method=t[0],e.apply(this,t)}}function F(r,o,i){var a=0;return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if("GET"!==this._method)return r.apply(this,t);var e=a+=2;return o(e,Date.now()),N(this,"onreadystatechange",function(n){return function(t){n&&n.call(this,t),4===this.readyState&&i(e)}})(),r.apply(this,t)}}function j(i,a,u){var s=1;return function(){for(var t,o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];return"GET"!==((null===(t=o[0])||void 0===t?void 0:t.method)||(null===(t=o[1])||void 0===t?void 0:t.method)||"GET")?i.apply(void 0,c(o)):new Promise(function(n,e){var r=s+=2;a(r,Date.now()),i.apply(void 0,c(o)).then(function(t){u(r),n(t)},function(t){u(r,t),e(t)})})}}function J(E,T,M,_){return function(t,n,e,r){var s,c,o,i,a,u,f,l,m,p=H([s=[],c=[],function(a,u){return function(t){var n=t.startTime,e=t.duration,r=t.fetchStart,o=t.responseEnd,i=t.entryType;"longtask"===i?(s.push({start:n,end:n+e}),a&&a(t)):"resource"===i&&(c.push({start:r,end:o}),u&&u(t))}}],3),d=p[0],v=p[1],h=p[2],g=H((o=E,i=T,u=H([a={},function(t,n){return a[t]=n},function(t){return delete a[t]}],3),g=u[0],p=u[1],u=u[2],f=i&&N(i.prototype,"open",P)(),l=i&&N(i.prototype,"send",F)(p,u),m=o&&N(o,"fetch",j)(p,u),[g,function(){f&&f(!0),l&&l(!0),m&&m(!0)}]),2),y=g[0],b=g[1],g=H(t&&I(_,function(){return e(r()+5e3)})||[],2),t=g[0],w=g[1];t&&t();function S(){return function(t,n,e){var r,o,i,a;if(2<t.length)return e();var u=[];try{for(var s=k(n),c=s.next();!c.done;c=s.next()){var f=c.value;u.push([f.start,0],[f.end,1])}}catch(t){r={error:t}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}try{for(var l=k(t),m=l.next();!m.done;m=l.next()){var p=m.value;u.push([p,0])}}catch(t){i={error:t}}finally{try{m&&!m.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}u.sort(function(t,n){return t[0]-n[0]});for(var d=t.length,v=u.length-1;0<=v;v--){var h=H(u[v],2),g=h[0];switch(h[1]){case 0:d--;break;case 1:if(2<++d)return g}}return 0}(function(t){for(var n=Object.keys(t),e=[],r=0;r<n.length;r++){var o=t[n[r]];"number"==typeof o&&e.push(o)}return e}(y),v,r)}var g=H(x(M,h(function(t){var n=t.startTime,t=t.duration;return e(n+t+5e3)},function(){return e(S()+5e3)}),!1,function(){return d.notSupport=!0}),2),t=g[0],L=g[1];return t("longtask","resource"),n.forEach(h()),[d,function(){b(),L(),w&&w()},S]}}function X(w,S,L,E,T){return void 0===w&&(w=function(){if(s(XMLHttpRequest))return XMLHttpRequest}()),void 0===S&&(S=M()&&_()),void 0===L&&(L=R()),void 0===E&&(E=function(){if(_()&&s(window.MutationObserver))return window.MutationObserver}()),void 0===T&&(T=C()),function(t,n,e){function r(t){var n=function(t,n,e,r,o){if(r-e<5e3)return null;o=0===o.length?t:o[o.length-1].end;return r-o<5e3?null:Math.max(o,n)}(((n=m("first-contentful-paint")[0])?n.startTime:O(f))||0,u||O(f)||0,y(),l()+(t?0:5e3),h);return t?n?(b(),void t(Math.round(n))):v(l()+1e3):(b(),n)}var o=t.useMutationObserver,i=t.preLongTaskObserver,a=t.isAsync,a=void 0===a?0:a,t=t.minValue,u=void 0===t?null:t,t=i||{},i=t.precollect,s=void 0===i?[]:i,c=t.observer,t=H(W(T),5),f=t[0],l=t[1],m=t[4],t=H(A(l),3),p=t[0],d=t[1],v=t[2],a=H(J(S,w,L,E)(o,a?[]:s,v,l),3),h=a[0],g=a[1],y=a[2],b=function(){d(),g(),e&&e(),c&&c.disconnect(),s.length=0};return[function(t){if(h.notSupport)return t();var n=h[h.length-1];p(function(){return r(t)},Math.max(y()+5e3,n?n.end:0))},h,v,function(){return!h.notSupport&&r()||0}]}}function S(){return Date.now()}var L=(E.prototype.begin=function(){this.currentTime=S(),this.beginTime=S(),this.frames=0},E.prototype.frame=function(){return this.currentTime=S(),this.currentTime-this.beginTime},E.prototype.end=function(){var t;return this.frames++,this.currentTime=S(),this.currentTime>=this.beginTime+this.duration&&(t=this.frames*this.duration/(this.currentTime-this.beginTime),this.beginTime=this.currentTime,this.frames=0),t},E);function E(t){this.beginTime=S(),this.frames=0,this.duration=null!=t?t:1e3,this.currentTime=S()}var T;(Ot=T=T||{}).once="once",Ot.repeat="repeat",Ot.frame="frame";var K="FPSMonitor",Y=(Z.prototype.setup=function(t){e()&&(this.fpsInstance=new L(1e3),this.callback=t||d,this.fpsInstance.begin(),this.mode!==T.repeat?this.mode!==T.frame?this.mode===T.once&&this.animateOnce():this.animateId=requestAnimationFrame(this.animateFrame.bind(this)):this.animateRepeat())},Z.prototype.animateRepeat=function(){var t;e()&&(void 0!==(t=this.fpsInstance.end())&&(this.fpsList.push(t),this.sendFps(t)),this.animateId=requestAnimationFrame(this.animateRepeat))},Z.prototype.animateOnce=function(){if(e()){var t=this.fpsInstance.end();if(void 0!==t)return this.fpsList.push(t),this.sendFps(t),void(this.fpsList.length>=Math.floor(this.onceTime/1e3)&&cancelAnimationFrame(this.animateId));this.animateId=requestAnimationFrame(this.animateOnce)}},Z.prototype.animateFrame=function(){var t;!e()||void 0!==(t=this.fpsInstance.frame())&&(this.sendFrame(t),cancelAnimationFrame(this.animateId))},Z.prototype.sendFps=function(t){s(this.callback)&&this.callback({name:this.name,type:"post",event:{ev_type:"fps",fps:t}})},Z.prototype.sendFrame=function(t){s(this.callback)&&this.callback({name:this.name,type:"post",event:{ev_type:"frame_duration",frame:t}})},Z.monitorName=K,Z);function Z(t){var n,e=this;this.name=K,this.callback=d,this.fpsInstance=null,this.animateId=0,this.fpsList=[],this.mode="once",this.onceTime=1e3,this.getFps=function(){return e.fpsList},t&&(this.mode=null!==(n=t.mode)&&void 0!==n?n:T.once,this.onceTime=null!==(t=t.onceTime)&&void 0!==t?t:1e3)}function $(t){try{for(var n,e=t,r=[],o=0,i=0,a=" > ".length;e&&o++<5&&!("html"===(n=function(t){var n,e,r,o,i=t,a=[];if(!i||!i.tagName)return"";a.push(i.tagName.toLowerCase()),i.id&&a.push("#"+i.id);t=i.className;if(t&&f(t))for(n=t.split(/\s+/),o=0;o<n.length;o++)a.push("."+n[o]);var u=["type","name","title","alt"];for(o=0;o<u.length;o++)e=u[o],(r=i.getAttribute(e))&&a.push("["+e+'="'+r+'"]');return a.join("")}(e))||1<o&&80<=i+r.length*a+n.length);)r.push(n),i+=n.length,e=e.parentNode;return r.reverse().join(" > ")}catch(t){return"<unknown>"}}var tt="FPSJankTimesMonitor",nt=(et.prototype.setup=function(t){void 0===t&&(t=d),l()&&(this.callback=t,this.start())},et.prototype.getHistoryFrameList=function(){return this.historyFrameList},et.prototype.start=function(){this.fpsMonitor.setup(this.getFrameList.bind(this))},et.prototype.getFrameList=function(t){var n=this,e=t.event.frame,r=100<e,o=this.frameList.length,t={frame:e,isJank:r,timestamp:v()};this.historyFrameList.push(t),this.historyFrameList.length>(this.options.maxFrameListCount||30)&&this.historyFrameList.shift();e=this.frameList[o-1]||{},r=!t.isJank&&e.isJank,o=!t.isJank&&!e.isJank;t.isJank&&!e.isJank||r||t.isJank&&e.isJank?this.frameList.push(t):o&&(this.frameList=[t]),r&&(this.report(),this.frameList=[t]),this.timerId=window.setTimeout(function(){n.start()},100)},et.prototype.shouldReport=function(t){for(var n=0,e=0;e<t.length;e++){var r=t[e];if(200<r.frame)return!0;if(r.isJank&&n++,3<=n)return!0}return!1},et.prototype.report=function(){var t;this.shouldReport(this.frameList)&&(t={name:this.name,type:"post",event:{ev_type:"fps_jank_times",list:this.frameList,breadcrumbs:null!==(t=null===(t=this.breadcrumbMonitor)||void 0===t?void 0:t.getBreadcrumbs())&&void 0!==t?t:[],memory:null!==(t=null===(t=this.memoryRecordMonitor)||void 0===t?void 0:t.getMemoryQueue())&&void 0!==t?t:[]}},this.callback(t))},et.monitorName=tt,et);function et(t){var e=this;this.name=tt,this.historyFrameList=[],this.callback=d,this.onLeave=function(){var t,n;l()&&(1<e.frameList.length&&(e.report(),null!==(n=(t=e.options).report)&&void 0!==n&&n.call(t)),e.frameList=[],window.clearTimeout(e.timerId))},this.onShow=function(){l()&&(e.historyFrameList=[],e.frameList=[],e.start())},this.visibilityChange=function(){"hidden"===document.visibilityState&&e.onLeave(),"visible"===document.visibilityState&&e.onShow()},t.breadcrumbMonitor&&(this.breadcrumbMonitor=t.breadcrumbMonitor),t.memoryRecordMonitor&&(this.memoryRecordMonitor=t.memoryRecordMonitor),this.options=null!=t?t:{},this.fpsMonitor=new Y({mode:"frame"}),this.frameList=[],this.timerId=0,B(this.onLeave,this.visibilityChange)}function rt(n,o){return void 0===n&&(n=R()),void 0===o&&(o=C()),function(t,e){var r=H(W(o),3)[2];return(0,H(x(n,function(t){var n=t.processingStart,t=t.startTime;return e&&e({name:"FIDMonitor",fid:Math.round(n-t)})},!0),1)[0])(ft),[function(){var t=r(ft)[0]||{},n=t.processingStart,t=t.startTime;return t?Math.round(n-t):0}]}}function ot(a){return void 0===a&&(a=R()),function(t){var n=[],e=t.isAsync,r=t.preLongTaskObserver,o=H(x(a,function(t){return n.push(t)}),2),t=o[0],i=o[1];return!e&&r&&(r.precollect||[]).forEach(function(t){"longtask"===t.entryType&&n.push(t)}),t("longtask"),[function(){i();var t=n.reduce(function(t,n){n=n.duration;return t<n?n:t},0);return{name:"MPFIDMonitor",mpfid:Math.round(t)}}]}}function it(n,t){return(t=t.filter(function(t){return t.name===n})[0])?Math.round(t.startTime):0}function at(a,u){return void 0===a&&(a=R()),void 0===u&&(u=C()),function(t,e){function n(){var t=o("paint");return{fp:it(mt,t),fcp:it(lt,t)}}var r={},o=H(W(u),3)[2],i=n();return i.fcp&&i.fp?e&&e(i):(0,H(x(a,function(t){var n=t.name,t=t.startTime;r[n]=Math.round(t),r[mt]&&r[lt]&&e&&e({fp:r[mt],fcp:r[lt]})},!0,function(){return e&&e(n())}),1)[0])("paint"),[n]}}function ut(t,n){var e=[];if(t.forEach(function(t){(function(t,n){if(i(t)&&0!==t.length)for(var e=0;e<t.length;){if(t[e]===n)return 1;e++}})(pt,t.initiatorType)||s(n)&&n(t)||e.push(t)}),e.length)return{name:"ResourcePerformanceMonitor",type:"post",event:{ev_type:"resource_performance",resources:e}}}function st(s,c){return void 0===s&&(s=C()),void 0===c&&(c=R()),function(t,n){void 0===t&&(t={});function r(t){(t=ut(t,a))&&n&&n(t)}function e(){return u("resource")}var o=t.isAsync,i=void 0===o?0:o,o=t.observe,o=void 0!==o&&o,a=t.checkIgnore,t=H(W(s),4),u=t[2],t=t[3];return i&&t(),o&&(r(e()),(0,H(x(c,function(t,n,e){return 0===n&&r(e)}),1)[0])("resource")),[function(){return ut(e())}]}}function ct(t){var n=D({},t);return[function(t){t&&(n=D(D({},n),t));t=n.fmp;n.fmp=t?Math.max(Math.round(t),n.fcp||0):void 0},function(){return{name:vt,type:"post",event:n}},function(t){return n=D({},t)}]}var ft="first-input",lt="first-contentful-paint",mt="first-paint",pt=["xmlhttprequest","fetch"],dt={ev_type:"perf",isAsync:0,dns:0,tcp:0,request:0,response:0,processing:0,blank:0,domready:0,load:0,has_resource:0,domparse:0,resource:0,ttfb:0,redirect:0,tti:0,upload_reason:"sample",network_type:"",timing:{},navigation_timing:{},navigation:{},resources:[]},vt="PerformanceMonitor",ht="StaticErrorMonitor";function gt(t){return t="link"===(n=t).tagName.toLowerCase()?"href":"src",s(n.getAttribute)?n.getAttribute(t)||"":n[t]||"";var n}function yt(t,n,e){var r,o=n||window.event||{};try{r=o.target||o.srcElement||{}}catch(t){return}var i=r.tagName;if(f(i)){n=gt(r);if(n&&n!==e)return{name:ht,type:"get",event:bt(n,i.toLowerCase(),t)}}}var bt=function(t,n,e){var r=p(t),t={ev_type:"static",st_type:n,st_src:t,st_protocol:r.protocol,st_domain:r.hostname,st_path:r.pathname},e=e&&function(t,n){var e=n.length;if(e)for(var r=e-1;-1<r;r--){var o=n[r];if(o.name===t)return o}}(r.href,e);return e&&(t.timing=e),t},wt="StaticSRIErrorMonitor";function St(i,n,a,e){return function(o){var t;s(a.all)&&a.all([e(o,{cache:"force-cache"}).then(function(t){return t.ok?t:new Response}),(t=o+"?vt="+Date.now(),e(t,{cache:"no-store"}).then(function(t){return t.ok?t:new Response}))]).then(function(t){var t=H(t,2),e=t[0],r=t[1];if(200===e.status&&200===r.status)return a.all([e.text(),r.text()]).then(function(t){var n=t[0]||e.status+","+r.status;return[n.length,t[1].length,n,o]})}).then(function(t){var n,e,r;t&&i&&(e=(n=H(t,3))[0],r=n[1],n[2]&&e!==r&&i({name:wt,type:"get",event:function(t,n,e,r){return{ev_type:"static_sri",sri:{error_file_size:t,real_file_size:n,error_file_context:e,static_file_src:r,static_file_url:p(r).href||""}}}.apply(void 0,c(t))}))}).catch(function(t){n&&n(t)})}}function Lt(o,i){return function(t){var n,e,r=t||i.event||{};try{n=r.target||r.srcElement||{}}catch(r){return}(s((e=n).getAttribute)?e.getAttribute("integrity"):e.integrity)&&(e=s((t=n).getAttribute)?t.getAttribute("src"):t.src||t.href||"",t=(null===(t=n.tagName)||void 0===t?void 0:t.toLowerCase())||"",e&&t&&e!==location.href&&o(e))}}var Et="MemoryRecordMonitor",Tt=(Mt.prototype.reportInternal=function(){var t=window.performance.memory;this.add({jsHeapSizeLimit:t.jsHeapSizeLimit,totalJSHeapSize:t.totalJSHeapSize,usedJSHeapSize:t.usedJSHeapSize,timestamp:v()})},Mt.prototype.start=function(){this.reportInternal()},Mt.prototype.add=function(t){this.memoryQueue.length>=this.maxQueue&&this.memoryQueue.shift(),this.memoryQueue.push(t),this.emit&&this.emit()},Mt.monitorName=Et,Mt);function Mt(t){var n,e=this;this.name=Et,this.emit=null,this.timeInstance=null,this.isUnavailable=function(){return!(o()&&window.performance.memory&&l())},this.setup=function(){e.isUnavailable()||(e.timeInstance=window.setInterval(function(){e.start()},e.timeout))},this.report=function(){return e.memoryQueue.map(function(t){return D({},t)})},this.getMemoryQueue=function(){return e.memoryQueue},this.onLeave=function(){e.isUnavailable()||(e.timeInstance&&(window.clearInterval(e.timeInstance),e.timeInstance=null),e.memoryQueue=[])},this.onShow=function(){e.isUnavailable()||(e.memoryQueue=[],e.timeInstance=window.setInterval(function(){e.start()},e.timeout))},this.visibilityChange=function(){"hidden"===document.visibilityState&&e.onLeave(),"visible"===document.visibilityState&&e.onShow()},this.timeout=null!==(n=null==t?void 0:t.interval)&&void 0!==n?n:1e3,this.maxQueue=null!==(t=null==t?void 0:t.maxQueue)&&void 0!==t?t:10,this.memoryQueue=[],B(this.onLeave,this.visibilityChange)}var _t="EmitMonitor",kt=(Ct.prototype.setup=function(t){this.callback=t||d},Ct.prototype.buildCustomTimeLog=function(t,n,e){return function(t){var n=t.name,e=t.tag,t=t.value;if(n&&t){t={ev_type:"custom",cm_name:n=s(n.toString)?n.toString():"",cm_type:"time",cm_value:t=+t};return e&&(e=s(e.toString)?e.toString():"",t.cm_tag=e),{name:"SentCustomTime",type:"get",event:t}}}({name:t,tag:n,value:e})},Ct.prototype.buildCustomCountLog=function(t,n){return function(t){var n=t.name,t=t.tag;if(n){n={ev_type:"custom",cm_name:n=s(n.toString)?n.toString():"",cm_type:"count"};return t&&(t=s(t.toString)?t.toString():"",n.cm_tag=t),{name:"SentCustomCount",type:"get",event:n}}}({name:t,tag:n})},Ct.prototype.buildEmitSingleEvent=function(t){t=w(t);if(t&&(!t||t.event_name))return{name:this.name,type:"post",event:{ev_type:"flexible",flexible_data_list:[t]}}},Ct.monitorName=_t,Ct);function Ct(){var o=this;this.name=_t,this.callback=d,this.handOut=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=o.buildEvent.apply(o,c(t));o.callback(e)},this.buildEvent=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if("sendCustomCountLog"===t[0])return o.buildCustomCountLog(t[1],t[2]);if("sendCustomTimeLog"===t[0])return o.buildCustomTimeLog(t[1],t[2],t[3]);if("send"===t[0]){if("count"===t[1])return o.buildCustomCountLog(t[2].category,t[2].action);if("timing"===t[1])return o.buildCustomTimeLog(t[2].category,t[2].action,t[2].value)}if("emit"===t[0]&&t[1]&&t[2]){var e={type:t[1],event:t[2]};return o.buildEmitSingleEvent(e)}},this.send=function(t,n,e){var r=e.action,e=e.value;"count"===t&&o.sendCustomCountLog(n,r),"timing"===t&&o.sendCustomTimeLog(n,r,e)},this.sendCustomTimeLog=function(t,n,e){e=o.buildCustomTimeLog(t,n,e);o.callback(e)},this.sendCustomCountLog=function(t,n){n=o.buildCustomCountLog(t,n);return o.callback(n),n},this.emitEvent=function(t){t=o.buildEmitSingleEvent(t);o.callback(t)}}function Rt(o){function i(n,e){var r;return function(t){a=void 0,t&&r!==t&&e({event:r=t,name:n})}}var a;return[i,function(r){return function(t){var n;try{n=t.target}catch(t){return}var e=n&&n.tagName;e&&("INPUT"===e||"TEXTAREA"===e||n.isContentEditable)&&(a||i("input",r)(t),clearTimeout(a),a=window.setTimeout(function(){a=void 0},o))}}]}function Nt(n,e){return function(t){if(e)try{n(t)}catch(t){}}}function xt(t){if(t=t.error)return t}function At(t){var n;try{"reason"in t?n=t.reason:"detail"in t&&"reason"in t.detail&&(n=t.detail.reason)}catch(t){}if(n)return n}function It(e){return function(t){if(!function(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return 1;default:return t instanceof Error}}(t)?(r(t)&&(n={message:JSON.stringify(t)}),f(t)&&(n={message:t})):n=t,n){var n={ev_type:"js_exception",exception:{message:(n=n).message,name:n.name,fileName:n.fileName,lineNumber:n.lineNumber,columnNumber:n.columnNumber,stack:n.stack,stacktrace:n.stacktrace,framesToPop:n.framesToPop},breadcrumbs:e()};return{name:Ft,type:"post",event:n}}}}var Ot=function(n,e,t,r){var i=(o.prototype.setup=function(t){this.monitor=V(e,this.props,t,r)},o.monitorName=n,o);function o(t){this.props=t,this.name=n}return t.forEach(function(t,o){return i.prototype[t]=function(){for(var t,n,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return null===(n=null===(t=this.monitor)||void 0===t?void 0:t[o])||void 0===n?void 0:n.call.apply(n,c([t],e))}}),i},Pt=Ot("BreadcrumbMonitor",function(i){return void 0===i&&(i=function(){if(a(document))return document}()),function(t){var e,n=H(Rt(100),2),r=n[0],o=n[1],n=H(function(n){void 0===n&&(n=20);var e=[];return[function(){return e},function(t){t=D(D({},t),{timestamp:v()});e=0<=n?c(e,[t]).slice(-n):c(e,[t])}]}(t.maxBreadcrumbs),2),t=n[0],n=n[1],n=(e=n,function(t){var n;try{n=t.event.target?$(t.event.target):$(t.event)}catch(t){n="<unknown>"}0!==n.length&&e({category:"ui."+t.name,message:n})});return i&&(i.addEventListener("click",r("click",Nt(n,"dom"))),i.addEventListener("keypress",o(Nt(n,"dom")))),[t]}},["getBreadcrumbs"]),Ft="JSExceptionMonitor",jt=Ot(Ft,function(i){return void 0===i&&(i=_()),function(t,e){var n=t.getBreadcrumbs,r=t.enableCatchGlobalJSError,o=It(function(){return n&&n()||[]}),t=function(n){return function(t){t=n(t),t=t&&o(t);t&&e&&e(t)}};return(void 0===r||r)&&i&&(i.addEventListener("error",t(xt)),i.addEventListener("unhandledrejection",t(At))),[o]}},["buildEvent"]),Jt=Ot(vt,function(J){return void 0===J&&(J=C()),function(t,u){function e(t){if(h=0,u){v=!1;var n=m.isAsync;w(m),n||_()||y({bounced:!0});var e=C().mpfid,r=k(),o=r&&r.event.resources,i=function(t,n){if(t&&n){var e=t.domainLookupEnd,r=t.domainLookupStart,o=t.connectEnd,i=t.connectStart,a=t.responseEnd,u=t.responseStart,s=t.requestStart,c=t.domComplete,f=t.domLoading,l=t.domInteractive,m=t.navigationStart,p=t.loadEventEnd,d=t.loadEventStart,v=t.secureConnectionStart,s={dns:e-r,tcp:o-i,request:u-s,response:a-u,processing:c-f,blank:a-m,domready:l-m,load:p-m,domparse:l-a,resource:d-t.domContentLoadedEventEnd,ttfb:u-s,redirect:t.redirectEnd-t.redirectStart};v&&(s.ssl=o-v);n=n("navigation")[0];return(n||t)&&(s.navigation=n||t),t&&(s.timing=t),n&&(s.navigation_timing=n),s}}(S,E),r=function(t,n,e,r){if(!t)return 0;var o,i=H(t,3),a=i[0],t=i[1],u=i[2];return a(),n?t().event.fmp||0:(o=[[q(1),function(){return u().event.fmp}],[q(2),function(){return r()}]],function(t){for(var n=0;n<o.length;){if(o[n][0](t))return o[n][1](t);n+=1}}(e)||0)}(s,n,c,function(){return A().fcp});y(D(D(D({},m),i),{mpfid:e,resources:o,has_resource:o?1:0,fmp:r})),m.load&&y({load:m.load});var a=function(){g=null,M(n,b())};if(g=function(){y({fid:N()}),y(A()),y({tti:P()}),a()},R.then(function(t){return y({fid:t})}),x.then(function(t){var n=t.fp,t=t.fcp;return y({fp:n,fcp:t})}),I.then(function(t){return y({tti:t})}),t)return a();O(I),F.then(a)}}var r,o,n,s=t.fmpMonitor,i=t.preLongTaskObserver,a=t.TTIMonitor,c=t.renderType,f=t.report,t=t.performanceAuto,l=void 0===t||t,m=D({},dt),p=a||X,d=0,v=!0,h=0,g=null,t={isAsync:0,preLongTaskObserver:i},a=H(ct(m),3),y=a[0],b=a[1],w=a[2],a=H(W(J),3),S=a[0],L=a[1],E=a[2],a=H((r=u,o=!1,[function(){return o},function(t,n){if(!t){if(o)return;o=!0}r&&r(n)}]),2),T=a[0],M=a[1],_=(n=!1,U(function(){return n=!0}),function(){return n}),k=H(V(st),1)[0],C=H(V(ot,t),1)[0],R=z(function(t){return t.fid}),N=H(V(rt,0,R),1)[0],x=z(Q),A=H(V(at,0,x),1)[0],I=z(function(t){if(t&&0<t)return m.isAsync?Math.round(t-d):t}),t=H(V(p,t),4),O=t[0],P=t[3],F=G(I,x);U(function(){return l&&(h=setTimeout(e,200))}),B(function(){T()||(e(!0),f&&f())});var j=function(){l=!1,clearTimeout(h),h=0};return[function(){g?g():!h&&T()||(_()||j(),e(),g()),m.isAsync=1,n=H(ct(m),3),y=n[0],b=n[1],w=n[2],v=!0,d=L();var t={isAsync:1,preLongTaskObserver:i},n=H(V(st,t),1);k=n[0],n=H(V(ot,t),1),C=n[0],t=H(V(p,D(D({},t),{minValue:Math.round(L())})),4),O=t[0],P=t[3]},function(){v&&_()&&(m.isAsync&&(m.load=Math.round(L()-d)),h=setTimeout(e,200))},function(){return F.resolved||e(!("complete"===document.readyState)),b()},j]}},["initAsync","send","getPerformance","stopAutoPerf"]),Dt=Ot(ht,function(o,i,a){return void 0===o&&(o=_()),void 0===i&&(i=C()),void 0===a&&(a=null===location||void 0===location?void 0:location.href),function(t,n){function e(){return r("resource")}var r=H(W(i),3)[2];return o&&o.addEventListener("error",function(t){t=yt(e(),t,a||"");t&&n&&n(t)},!0),[function(t){return yt(e(),t,a||"")}]}},["buildEvent"]),Ht=Ot(wt,function(e,r,o){if(void 0===e&&(e=_()),void 0===r&&(r=function(){if("Promise"in window)return Promise}()),void 0===o&&(o=M()),e&&o&&r)return function(t,n){t=Lt(St(n,t.onError,r,o),e);return e.addEventListener("error",t,!0),[t]}},["staticSRIErrorLog"]);function Ut(t,n){return a(t)?a(n)?D(D({},t),{overrides:n}):t:{}}function Bt(t,n){var e;return t.forEach(function(t){t.name===n&&(e=t)}),e}var qt=function(r){void 0===r&&(r=window);var o=0;return{setSchedule:function(t,n){var e=this;o=r.setTimeout(function(){t(),e.setSchedule(t,n)},n)},clearSchedule:function(){r.clearTimeout(o)},getTimer:function(){return o}}}(),Qt="WorkerMonitor",zt=(Gt.prototype.setup=function(){s(window.Worker)&&this.loadWorker()},Gt.prototype.loadWorker=function(){var e=this;h.get(this.options.workerLink,{getResponseText:function(t){var n;e.worker||(n=new Worker(window.URL.createObjectURL(new Blob([t],{type:"text/javascript"}))),e.worker=n,document.addEventListener("visibilitychange",function(){e.sendVisibilityChange({worker:n,visibilityState:document.visibilityState})}),qt.setSchedule(function(){e.heartBeat({worker:n,reportURL:e.options.reportURL,commonParams:e.options.commonParams})},2e3))}})},Gt.prototype.sendVisibilityChange=function(t){var n=t.worker,t=t.visibilityState;n.postMessage({type:"visibilityChange",visibilityState:t})},Gt.prototype.heartBeat=function(t){var n=t.worker,e=t.reportURL,t=t.commonParams;n.postMessage({type:"heartBeat",reportURL:e,commonParams:D(D({},t||{}),{url:window.location.href}),breadcrumbs:null!==(e=null===(e=null===(t=null===(e=this.options)||void 0===e?void 0:e.breadcrumbMonitor)||void 0===t?void 0:t.getBreadcrumbs)||void 0===e?void 0:e.call(t))&&void 0!==e?e:[],memory:null!==(e=null===(e=null===(t=this.options.memoryRecordMonitor)||void 0===t?void 0:t.getMemoryQueue)||void 0===e?void 0:e.call(t))&&void 0!==e?e:[],frames:null!==(t=null===(e=null===(t=this.options.fpsJankTimesMonitor)||void 0===t?void 0:t.getHistoryFrameList)||void 0===e?void 0:e.call(t))&&void 0!==t?t:[]})},Gt.monitorName=Qt,Gt);function Gt(t){this.name=Qt,this.options=t,this.worker=null}var Vt,Wt,Xt,Kt,Yt,Zt,Ot=($t.prototype.setup=function(){var n=this;this.options.sendEvent&&this.monitors.forEach(function(t){(n.installedMonitors[t.name]=t).setup(n.options.sendEvent)})},$t.version="3.6.13",$t);function $t(t){var o=this;this.getInstalledMonitors=function(){return o.installedMonitors},this.init=function(){var t,n=o.options.config;n.flags.enableStaticError&&o.monitors.push(new Dt),n.flags.enablePerformance&&(t=(t=o.options.fmpMonitor)&&[t.disconnect.bind(t),t.getFmp.bind(t),t.getLoadFmp.bind(t)],o.monitors.push(new Jt({fmpMonitor:t,performanceAuto:n.commonParams.performanceAuto,renderType:n.monitors.BaseMonitor.appTypeSetting.renderType,report:function(){return o.options.report()},preLongTaskObserver:{precollect:null!==(t=null===(t=null===(t=window.Slardar)||void 0===t?void 0:t.lt)||void 0===t?void 0:t.e)&&void 0!==t?t:[],observer:null===(t=null===(t=window.Slardar)||void 0===t?void 0:t.lt)||void 0===t?void 0:t.o}}))),n.flags.enableMemoryRecord&&o.monitors.push(new Tt),n.flags.enableBreadcrumb&&o.monitors.push(new Pt),n.flags.enableFPSJankTimesMonitor&&o.monitors.push(new nt({breadcrumbMonitor:Bt(o.monitors,"BreadcrumbMonitor"),memoryRecordMonitor:Bt(o.monitors,"MemoryRecordMonitor"),report:function(){return o.options.report()}})),o.monitors.push(new kt),n.flags.enableCatchJSErrorV2&&o.monitors.push(new jt({enableCatchGlobalJSError:o.options.config.flags.enableCatchGlobalJSError})),o.monitors.push(new Ht({onError:function(t){o.options.captureException(t)}})),n.flags.enableCrash&&o.monitors.push(new zt({reportURL:n.commonParams.reportURLSingle,commonParams:n.commonParams,workerLink:"https://sf1-scmcdn-tos.pstatp.com/goofy/slardar/fe/sdk/plugins/worker.3.6.13.cn.js",breadcrumbMonitor:Bt(o.monitors,"BreadcrumbMonitor"),memoryRecordMonitor:Bt(o.monitors,"MemoryRecordMonitor"),fpsJankTimesMonitor:Bt(o.monitors,"FPSJankTimesMonitor")})),o.setup(),o.handlePreCollect()},this.handlePreCollect=function(){var t=o.options.collect,n=null!==(n=null==t?void 0:t.emit)&&void 0!==n?n:[];i(n)&&n.forEach(function(t){var n,e;null!=t&&t.event&&(n=t.event,e=t.params,t=Ut(null===(t=Bt(o.monitors,"EmitMonitor"))||void 0===t?void 0:t.buildEvent.apply(t,c(null!=n?n:{})),e),null!==(e=(n=o.options).sendEvent)&&void 0!==e&&e.call(n,t))});n=null!==(n=null==t?void 0:t.exception)&&void 0!==n?n:[];i(n)&&n.forEach(function(t){var n,e;t&&t.exception&&(n=t.exception,e=t.params,t=Ut(null===(t=Bt(o.monitors,"JSExceptionMonitor"))||void 0===t?void 0:t.buildEvent(n),e),null!==(e=(n=o.options).sendEvent)&&void 0!==e&&e.call(n,t))});t=null!==(t=null==t?void 0:t.staticError)&&void 0!==t?t:[];i(t)&&t.forEach(function(t){var n,e,r;null!=t&&t.event&&(e=t.event,r=t.params,t=Ut(null===(n=Bt(o.monitors,"StaticErrorMonitor"))||void 0===n?void 0:n.buildEvent(e||{}),r),null!==(r=(n=o.options).sendEvent)&&void 0!==r&&r.call(n,t),null!==(t=Bt(o.monitors,"StaticSRIErrorMonitor"))&&void 0!==t&&t.staticSRIErrorLog(e))})},this.options=t,this.monitors=[],this.installedMonitors={}}return Vt={pluginName:"SetMonitors",version:Ot.version,plugin:Ot},window.__SLARDAR__||(window.__SLARDAR__={}),window.__SLARDAR__&&((Kt={version:Wt=Vt.plugin.version})[Vt.pluginName]=Vt.plugin,Xt=Kt,Kt=null!==(Kt=window.__SLARDAR__.plugins)&&void 0!==Kt?Kt:[],Zt=!(Yt=[]),Kt.forEach(function(t){t.version===Wt&&("SetMonitors"!==Vt.pluginName||t.SetMonitors||(t[Vt.pluginName]=Vt.plugin),"SetSentryMonitors"!==Vt.pluginName||t.SetSentryMonitors||(t[Vt.pluginName]=Vt.plugin),"SetHeatmap"!==Vt.pluginName||t.SetHeatmap||(t[Vt.pluginName]=Vt.plugin),"SetHeatmapDraw"!==Vt.pluginName||t.SetHeatmapDraw||(t[Vt.pluginName]=Vt.plugin),"SetHeatmapMouseDraw"!==Vt.pluginName||t.SetHeatmapMouseDraw||(t[Vt.pluginName]=Vt.plugin),"SetHeatmapScrollDraw"!==Vt.pluginName||t.SetHeatmapScrollDraw||(t[Vt.pluginName]=Vt.plugin),Zt=!0),Yt.push(t)}),Zt||Yt.push(Xt),window.__SLARDAR__.plugins=Yt),t.SetMonitors=Ot,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
